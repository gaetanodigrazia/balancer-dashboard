<h2>OCR Scontrino</h2>

<input type="file" (change)="onFileChange($event)" accept="image/*" />

<button (click)="inviaOCR()" [disabled]="loading || !immagine">
  {{ loading ? 'Analisi in corso...' : 'Invia per OCR' }}
</button>

<div *ngIf="errore" style="color: red; margin-top: 1em;">
  ⚠️ Errore: {{ errore }}
</div>

<div *ngIf="scontrino" style="margin-top: 1em;">
  <h3>Data: {{ scontrino.data }}</h3>
  <h3>Totale: €{{ scontrino.totale }}</h3>

  <table border="1" cellpadding="8" cellspacing="0">
    <thead>
      <tr>
        <th>Prodotto</th>
        <th>Quantità</th>
        <th>Prezzo unitario (€)</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of scontrino.prodotti">
        <td>{{ p.nome }}</td>
        <td>{{ p.quantita }}</td>
        <td>{{ p.prezzo_unitario }}</td>
      </tr>
    </tbody>
  </table>
</div>
