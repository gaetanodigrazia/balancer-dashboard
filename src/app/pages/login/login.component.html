<div class="login-page d-flex justify-content-center align-items-center">
  <div class="login-box shadow-sm bg-white rounded-4 p-5">
    <h2 class="fw-semibold text-center mb-4">Balancer</h2>

    <!-- Tab Switch -->
    <div class="btn-group w-100 mb-4" role="group">
      <button
        class="btn w-50 fw-medium"
        [class.btn-dark]="activeTab === 'login'"
        [class.btn-outline-secondary]="activeTab !== 'login'"
        (click)="activeTab = 'login'"
      >
        🔐 Login
      </button>
      <button
        class="btn w-50 fw-medium"
        [class.btn-dark]="activeTab === 'demo'"
        [class.btn-outline-secondary]="activeTab !== 'demo'"
        (click)="activeTab = 'demo'"
      >
        ✏️ Demo
      </button>
    </div>

    <!-- LOGIN FORM -->
    <form *ngIf="activeTab === 'login'" (submit)="login($event)">
      <div class="form-floating mb-3">
        <input
          type="text"
          id="username"
          class="form-control"
          placeholder="Username"
          [(ngModel)]="username"
          name="username"
        />
        <label for="username">Username</label>
      </div>

      <div class="form-floating mb-4">
        <input
          type="password"
          id="password"
          class="form-control"
          placeholder="Password"
          [(ngModel)]="password"
          name="password"
        />
        <label for="password">Password</label>
      </div>

      <button type="submit" class="btn btn-primary w-100 py-2 fw-semibold">
        Accedi
      </button>
    </form>

    <!-- DEMO SECTION -->
    <div *ngIf="activeTab === 'demo'" class="text-center">
      <p class="text-muted mb-3">Vuoi provare una demo?</p>
      <button class="btn btn-outline-primary" (click)="registerDemo()">
        Genera utente demo
      </button>

      <!-- Modal con credenziali generate -->
      <div
        class="modal fade show d-block"
        tabindex="-1"
        *ngIf="showModal"
        style="background-color: rgba(0, 0, 0, 0.5);"
      >
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content border-primary">
            <div class="modal-header bg-primary text-white">
              <h5 class="modal-title">Credenziali Demo</h5>
              <button type="button" class="btn-close btn-close-white" (click)="closeModal()"></button>
            </div>
            <div class="modal-body">
              <p><strong>Username:</strong> {{ generatedCredentials?.username }}</p>
              <p><strong>Password:</strong> {{ generatedCredentials?.password }}</p>
              <p class="text-muted">Copiale ed effettua l'accesso manualmente.</p>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" (click)="closeModal()">Chiudi</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
